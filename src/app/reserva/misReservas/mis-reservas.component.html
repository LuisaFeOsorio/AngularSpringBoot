<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold text-blue-700 mb-4">Mis Reservas</h2>

  <div *ngIf="cargando" class="text-gray-600">Cargando tus reservas...</div>
  <div *ngIf="error" class="text-red-600 font-semibold">{{ error }}</div>

  <div *ngIf="!cargando && reservas.length === 0 && !error" class="text-gray-500">
    No tienes reservas realizadas aún.
  </div>

  <div *ngIf="reservas.length > 0" class="grid gap-4 md:grid-cols-2">

    <div *ngFor="let reserva of reservas" class="p-4 bg-white rounded-2xl shadow">

      <h3 class="text-lg font-bold text-blue-600">{{ reserva.alojamientoNombre }}</h3>
      <p class="text-gray-600">{{ reserva.alojamientoCiudad }}</p>

      <p><strong>Check-in:</strong> {{ formatearFecha(reserva.checkIn) }}</p>
      <p><strong>Check-out:</strong> {{ formatearFecha(reserva.checkOut) }}</p>
      <p><strong>Huéspedes:</strong> {{ reserva.numeroHuespedes }}</p>
      <p><strong>Total:</strong> {{ reserva.precioTotal | currency:'COP':'symbol':'1.0-0' }}</p>
      <p><strong>Estado:</strong> <span class="font-semibold">{{ reserva.estado }}</span></p>

      <div class="mt-3 flex gap-2">

        <!-- CANCELAR -->
        <button
          *ngIf="reserva.estado !== 'CANCELADA' && reserva.estado !== 'COMPLETADA'"
          class="px-4 py-2 bg-red-500 text-white rounded-lg"
          (click)="cancelarReserva(reserva.id)">
          Cancelar
        </button>

        <!-- COMENTAR -->
        <button
          *ngIf="reserva.estado === 'COMPLETADA'"
          class="px-4 py-2 bg-blue-600 text-white rounded-lg"
          (click)="comentario(reserva.id)">
          Comentar
        </button>

        <span *ngIf="reserva.estado === 'CANCELADA'" class="text-gray-500 italic">
          Reserva cancelada
        </span>
      </div>
    </div>
  </div>
</div>
